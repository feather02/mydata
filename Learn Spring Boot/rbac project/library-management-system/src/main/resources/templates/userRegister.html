<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="../static/css/styles.css">
    <title>User Registration</title>
</head>
<body>
<div id="outer" style="background-image: url('https://img.freepik.com/free-vector/gradient-blue-dynamic-lines-background_23-2148995926.jpg');">
    <div id="register_card">
        <h1>User Registration</h1>
        <!-- Success Message (Displayed Only if Present) -->
        <div th:if="${successMessage}" style="color: green; font-weight: bold;">
            <p th:text="${successMessage}"></p>
        </div>

        <form th:action="@{/userRegister/success}" th:object="${user}" method="post" onsubmit="return validateForm()">
            <label for="username">Username : </label>
            <input type="text" th:field="*{username}" id="username" required> <br><br>

            <label for="email">Email : </label>
            <input type="email" th:field="*{email}" id="email" required> <br><br>

            <label for="password">Password : </label>
            <input type="password" th:field="*{password}" id="password" required> <br><br>

            <button type="submit" class="submit_btn">Submit</button>
        </form>

        <script>
            function validateForm() {
                var username = document.getElementById("username").value.trim();
                var email = document.getElementById("email").value.trim();
                var password = document.getElementById("password").value.trim();

                if (username === "" || email === "" || password === "") {
                    alert("Please fill in all fields before submitting.");
                    return false; // Prevent form submission
                }

                return true; // Allow form submission
            }
        </script>

    </div>
</div>
</body>
</html>
